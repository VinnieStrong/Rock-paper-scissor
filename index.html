<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>
<body>
   <div class="container">
       <h1 id="title">Welcome to the Rock paper scissors Game!!</h1>
       <h2>Please make a selection to play your first Round: Who wins 3 out of 5 rounds wins the game!</h2> 
       <div class="buttons-container">  
           <button id="rock">Rock</button>
           <button id="paper">Paper</button>
           <button id="scissors">Scissors</button>
           <br>
           <br>      
        </div> 
       <br>  
   </div>    
</body>
</html>
<script>
// SET THE rockPaperScissors ARRAY CONTAINING THE 3 VALUES 
const rockPaperScissors = ['rock','paper','scissors'];

// THIS RANDOM FUNCTION RETURNS A RANDOM VALUE BETWEEN 0 AND 2
function random() {

    return Math.floor(Math.random() * 3);
}

// SET THE computerChoice VARIABLE AND ASSOCIATE IT WITH
// A RANDOM ARRAY SELECTION                                  I VE MOVED ALL THIS IN THE GAME FUNCTION
let computerChoice = rockPaperScissors[random()];
let playerScore=0;
let computerScore=0;
let div_r = document.createElement('div');
    div_r.className = 'result';
let div_b = document.querySelector('.buttons-container');
    div_b.appendChild(div_r);

function playRound(computerChoice,playerChoice) {
    
   if (computerChoice == playerChoice) {
        div_r.textContent =  `it's a tie! one more time. your score: ${playerScore} computer score: ${computerScore}`;
        
    } 
    else if (computerChoice == 'rock' & playerChoice == 'paper'){
        playerScore= playerScore + 1;
        div_r.textContent = `you've won! paper beats rock.your score: ${playerScore} computer score: ${computerScore}`;
    } 
    else if (computerChoice == 'rock' & playerChoice == 'scissors') {
        computerScore += 1;
        div_r.textContent = `you've lost! rock beats scissors. your score: ${playerScore} computer score: ${computerScore}`;

       
    }
    else if (computerChoice == 'paper' & playerChoice == 'scissors') {
        playerScore += 1;
        div_r.textContent = `you've won! scissors beats paper. your score: ${playerScore} computer score: ${computerScore}`;
        
    }
    else if (computerChoice == 'paper' & playerChoice== 'rock') {

        computerScore = computerScore + 1;
        div_r.textContent = `you've lost! paper beats rock. your score: ${playerScore} computer score: ${computerScore}`;
    }
    else if (computerChoice == 'scissors' & playerChoice == 'rock') {
        playerScore= playerScore + 1;
        div_r.textContent= `you've won! rock beats scissors. your score: ${playerScore} computer score: ${computerScore}`;
    }
    else if (computerChoice == 'scissors' & playerChoice == 'paper') {
        computerScore = computerScore + 1;
        div_r.textContent = `you've lost! scissors beats paper. your score: ${playerScore} computer score: ${computerScore}`;
     }
}
let hr= document.createElement('h4');
let newGame = document.createElement('div');

function playTheGame(computerChoice,playerChoice) {
    
    for(let i=0; i<100; i++) {
    
    computerChoice = rockPaperScissors[random()];
    playRound(computerChoice,playerChoice);
    playerChoice = "";
    
        if(playerScore === 3) {
            let hr= document.createElement('h4');
            hr.className = 'final-result';
            hr.textContent = "CONGRATULATIONS!! YOU'VE WON THE GAME";
            div_r.appendChild(hr);
            newGame.textContent= 'make another selection to start another game!';
            hr.appendChild(newGame);
            playerScore = 0;
            computerScore = 0;
            break;
        }
        else if (computerScore ===3) {
            hr.className = 'final-result';
            hr.textContent = "SORRY!! YOU'VE LOST!";
            div_r.appendChild(hr);
            newGame.textContent= 'make another selection to start another game!';
            hr.appendChild(newGame);
            computerScore = 0;
            playerScore = 0;
            break;
        }
    } 
}
    let rock = document.querySelector('#rock');
    let paper = document.querySelector('#paper');
    let scissors = document.querySelector('#scissors');
        rock.addEventListener('click', () =>  playTheGame(computerChoice, 'rock'));
        paper.addEventListener('click', () => playTheGame(computerChoice, 'paper'));
        scissors.addEventListener('click', () =>  playTheGame(computerChoice, 'scissors'));    
</script>